---
title: "Morals/Values Scoring"
format: html
theme: lumen
---

### necessary libraries and functions

```{r, eval=FALSE}

library("dplyr")

source("../scoringFuns.R")


#load df (i forgot to hide row names when writing csv hence select -x )

df <- read.csv("sim_testingdata/morvals_testdat.csv ") %>% select(-X)

# create duplicate df for comparison

df_test <- df %>%
  rename_all(~ paste0(., "_c"))



```

## Individualism and Collectivism

As this uses our standard response scale for agreement we can use our standard scoring function

```{r}

#no items are reversed scored so we can just use the same function across all the ic items

#first we selct the relavent columns

ic_cols <- colnames(df %>%
  select(starts_with("ic_")))

# now we run the function

df <- funScore(df, ic_cols, "agreement", FALSE)

```

Lets create a smaller df for ease of checking. We can skip this if we're checking full df coding.

```{r}
#select only the first 4 ic_ cols

df_ic <- cbind(df %>% select(starts_with("ic_") &
                             ends_with(c("01", "02", "03", "04"))),
               df_test %>% select(starts_with("ic_") &
                             ends_with(c("01_c", "02_c", "03_c", "04_C")))
)


# we can now look at df_ic and see if everything is correct- seems so!
```

## Rebelliousness

Rebelliousness uses our standard extent coding scheme, which has its own function

```{r}

#there are no reverse coded items so we select all rebelliousness columns

reb_cols <- colnames(df %>%
  select(starts_with("reb_")))


df <- funScore(df, reb_cols, "extent", FALSE)
```

again we make a smaller df:

```{r}
#select only the first 4 reb_ cols

df_reb <- cbind(df %>% select(starts_with("reb_") &
                             ends_with(c("01", "02", "03", "04"))),
               df_test %>% select(starts_with("reb_") &
                             ends_with(c("01_c", "02_c", "03_c", "04_C")))
)


# we can now look at df_ic and see if everything is correct- seems so- as there is no reverse coding odd and even cols should have the opposite pattern!
```

## Individual Choice Norms

```{r, eval=FALSE}

#there are no reverse coded items so we select all choice norms columns

icn_cols <- colnames(df %>%
  select(starts_with("icn_")))


df <- funScore(df, icn_cols, "agreement", FALSE)
```

```{r}
#select only the first 4 reb_ cols

df_icn <- cbind(df %>% select(starts_with("icn_") &
                             ends_with(c("01", "02", "03", "04"))),
               df_test %>% select(starts_with("icn_") &
                             ends_with(c("01_c", "02_c", "03_c", "04_C")))
)


# we can now look at df_ic and see if everything is correct- seems so- as there is no reverse coding odd and even cols should have the opposite pattern!
```
